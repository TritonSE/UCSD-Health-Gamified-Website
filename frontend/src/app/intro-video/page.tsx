"use client";

import React, { useState } from "react";
import { ReactTyped } from "react-typed";

import styles from "./IntroVideo.module.css";

export default function IntroVideo() {
  const [textLoaded, isTextLoaded] = useState(false);

  const handleSubmit = (e?: React.MouseEvent<HTMLButtonElement>) => {
    if (e) e.preventDefault();
    // Redirect to the video page
    if (textLoaded) {
      window.location.href = "/video";
    } else {
      console.log("Text not loaded yet");
    }
  };

  return (
    <main className={styles.main}>
      <div className={styles.container}>
        <p className={styles.title}>Welcome to the E-Bike Safety Course!</p>
        <svg
          width="856"
          height="552"
          viewBox="0 125 856 552"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            opacity="0.2"
            d="M692.092 551.11C746.909 551.11 791.348 541.997 791.348 530.755C791.348 519.513 746.909 510.4 692.092 510.4C637.274 510.4 592.836 519.513 592.836 530.755C592.836 541.997 637.274 551.11 692.092 551.11Z"
            fill="#3D3D60"
          />
          <path
            d="M678.764 522.98V469.691C678.764 462.33 672.797 456.363 665.436 456.363H665.417C658.056 456.363 652.089 462.33 652.089 469.691V522.98C652.089 530.341 658.056 536.307 665.417 536.307H665.436C672.797 536.307 678.764 530.341 678.764 522.98Z"
            fill="#171759"
          />
          <path
            d="M646.006 536.308H665.436C672.797 536.308 678.764 530.341 678.764 522.981V522.961C678.764 515.601 672.797 509.634 665.436 509.634H646.006C638.646 509.634 632.679 515.601 632.679 522.961V522.981C632.679 530.341 638.646 536.308 646.006 536.308Z"
            fill="#171759"
          />
          <path
            d="M741.054 510.726L721.1 461.313C718.344 454.488 710.577 451.19 703.752 453.946L703.733 453.953C696.908 456.709 693.61 464.476 696.366 471.301L716.32 520.714C719.076 527.539 726.843 530.837 733.668 528.081L733.686 528.074C740.511 525.318 743.81 517.551 741.054 510.726Z"
            fill="#171759"
          />
          <path
            d="M715.749 535.272L733.765 527.996C740.59 525.24 743.889 517.473 741.133 510.648L741.125 510.63C738.369 503.805 730.602 500.506 723.777 503.263L705.761 510.538C698.936 513.294 695.637 521.061 698.394 527.886L698.401 527.904C701.157 534.729 708.924 538.028 715.749 535.272Z"
            fill="#171759"
          />
          <path
            d="M683.096 490.301C751.938 490.301 807.746 434.493 807.746 365.651C807.746 296.808 751.938 241 683.096 241C614.253 241 558.445 296.808 558.445 365.651C558.445 434.493 614.253 490.301 683.096 490.301Z"
            fill="#62657A"
          />
          <path
            d="M675.221 431.421C712.632 431.421 742.96 401.093 742.96 363.682C742.96 326.271 712.632 295.943 675.221 295.943C637.81 295.943 607.482 326.271 607.482 363.682C607.482 401.093 637.81 431.421 675.221 431.421Z"
            stroke="#D3D3DD"
            strokeWidth="9.84291"
            strokeMiterlimit="10"
          />
          <path
            d="M675.22 415.396C703.782 415.396 726.935 392.243 726.935 363.681C726.935 335.12 703.782 311.967 675.22 311.967C646.659 311.967 623.506 335.12 623.506 363.681C623.506 392.243 646.659 415.396 675.22 415.396Z"
            fill="#D3D3DD"
          />
          <path
            opacity="0.2"
            d="M807.747 365.65C807.747 434.491 751.937 490.301 683.096 490.301C647.917 490.301 616.164 475.733 593.506 452.287C612.759 464.453 635.555 471.501 660.005 471.501C728.846 471.501 784.635 415.691 784.635 346.85C784.635 313.187 771.308 282.635 749.595 260.213C784.537 282.281 807.747 321.259 807.747 365.65Z"
            fill="#3D3D60"
          />
          <path
            d="M795.896 369.372C794.006 426.047 750.324 472.131 694.672 477.781"
            stroke="#4E4E68"
            strokeWidth="9.84291"
            strokeMiterlimit="10"
            strokeLinecap="round"
          />
          <path
            d="M778.789 376.774C774.242 415.851 746.308 447.781 709.357 458.215"
            stroke="#4E4E68"
            strokeWidth="9.84291"
            strokeMiterlimit="10"
            strokeLinecap="round"
          />
          <path
            d="M570.316 361.931C572.206 305.255 615.889 259.171 671.541 253.521"
            stroke="#4E4E68"
            strokeWidth="9.84291"
            strokeMiterlimit="10"
            strokeLinecap="round"
          />
          <path
            d="M587.424 354.509C591.971 315.432 619.905 283.502 656.856 273.068"
            stroke="#4E4E68"
            strokeWidth="9.84291"
            strokeMiterlimit="10"
            strokeLinecap="round"
          />
          <path
            d="M635.16 383.23C646.978 383.23 656.559 373.649 656.559 361.831C656.559 350.013 646.978 340.433 635.16 340.433C623.342 340.433 613.762 350.013 613.762 361.831C613.762 373.649 623.342 383.23 635.16 383.23Z"
            stroke="#ED351D"
            strokeWidth="7.87432"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M704.1 383.23C715.918 383.23 725.498 373.649 725.498 361.831C725.498 350.013 715.918 340.433 704.1 340.433C692.282 340.433 682.701 350.013 682.701 361.831C682.701 373.649 692.282 383.23 704.1 383.23Z"
            stroke="#ED351D"
            strokeWidth="7.87432"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M656.559 361.831C658.921 360.689 663.39 358.878 669.295 358.819C675.555 358.74 680.319 360.67 682.721 361.831"
            stroke="#ED351D"
            strokeWidth="7.87432"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M746.774 421.098L755.115 432.944L833.342 377.864L825.001 366.017L746.774 421.098Z"
            fill="#FFBC00"
          />
          <path
            d="M738.45 409.244L746.791 421.09L825.018 366.01L816.676 354.163L738.45 409.244Z"
            fill="#FFD815"
          />
          <path
            d="M816.672 354.18L833.344 377.857L842.068 371.714L825.396 348.037L816.672 354.18Z"
            fill="#DBD9E2"
          />
          <path
            d="M842.078 371.712L825.407 348.035L832.859 342.788C836.432 340.272 841.37 341.129 843.886 344.702L851.445 355.438C853.961 359.012 853.104 363.949 849.531 366.465L842.078 371.712Z"
            fill="#FF558A"
          />
          <path
            d="M738.491 409.235L755.165 432.917L740.873 435.83L730.932 421.716L738.491 409.235Z"
            fill="#FFE7C5"
          />
          <path
            d="M730.931 421.716L740.872 435.831L727.663 438.508C724.671 439.118 722.368 435.85 723.962 433.252L730.931 421.716Z"
            fill="#171759"
          />
          <path
            d="M802.982 430.733C814.637 430.733 824.085 421.285 824.085 409.63C824.085 397.975 814.637 388.527 802.982 388.527C791.327 388.527 781.879 397.975 781.879 409.63C781.879 421.285 791.327 430.733 802.982 430.733Z"
            fill="#171759"
          />
          <path
            d="M645.871 367.796V362.756C645.871 357.896 641.931 353.957 637.072 353.957C632.212 353.957 628.272 357.896 628.272 362.756V367.796C628.272 372.656 632.212 376.595 637.072 376.595C641.931 376.595 645.871 372.656 645.871 367.796Z"
            fill="#171759"
          />
          <path
            d="M711.01 367.796V362.756C711.01 357.896 707.07 353.957 702.21 353.957C697.35 353.957 693.411 357.896 693.411 362.756V367.796C693.411 372.656 697.35 376.595 702.21 376.595C707.07 376.595 711.01 372.656 711.01 367.796Z"
            fill="#171759"
          />
          <path
            d="M655.715 378.446C656.896 385.041 662.664 390.061 669.633 390.061C676.602 390.061 682.369 385.041 683.551 378.446"
            stroke="#171759"
            strokeWidth="7.28375"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M637.01 479.887L575.314 491.994C572.558 492.526 569.704 490.793 568.916 488.136L546.514 411.322C545.727 408.644 547.341 406.046 550.097 405.495L611.792 393.388C614.548 392.856 617.403 394.589 618.19 397.246L640.593 474.06C641.38 476.738 639.766 479.336 637.01 479.887Z"
            fill="#C2E9F9"
          />
          <path
            d="M631.656 480.931L569.961 493.038C567.205 493.57 564.35 491.837 563.563 489.18L541.161 412.366C540.373 409.688 541.987 407.09 544.743 406.539L606.439 394.432C609.195 393.9 612.049 395.633 612.837 398.29L635.239 475.104C636.026 477.782 634.412 480.38 631.656 480.931Z"
            fill="#F3FDFF"
          />
          <path
            d="M633.901 482.781L568.092 495.695C565.336 496.226 562.481 494.494 561.694 491.836L539.291 415.022C538.504 412.345 540.118 409.747 542.874 409.195L608.684 396.281C611.44 395.75 614.294 397.482 615.082 400.14L637.484 476.954C638.272 479.631 636.657 482.23 633.901 482.781Z"
            fill="#3A6DED"
          />
          <path
            d="M630.81 483.393L565 496.307C562.244 496.838 559.389 495.106 558.602 492.448L536.2 415.634C535.412 412.957 537.026 410.358 539.782 409.807L605.592 396.893C608.348 396.362 611.203 398.094 611.99 400.752L634.392 477.566C635.18 480.243 633.566 482.841 630.81 483.393Z"
            fill="#5086FF"
          />
          <path
            d="M594.883 409.629L555.413 417.366C552.657 417.897 549.803 416.165 549.015 413.507L548.621 412.129C547.834 409.452 549.448 406.853 552.204 406.302L591.674 398.566C594.43 398.034 597.285 399.766 598.072 402.424L598.466 403.802C599.253 406.479 597.639 409.078 594.883 409.629Z"
            fill="#3A6DED"
          />
          <path
            d="M594.194 407.307L554.724 415.043C551.968 415.575 549.113 413.842 548.326 411.185L547.932 409.807C547.145 407.13 548.759 404.531 551.515 403.98L590.985 396.243C593.741 395.712 596.595 397.444 597.383 400.102L597.776 401.48C598.564 404.157 596.95 406.756 594.194 407.307Z"
            fill="#AAB0BA"
          />
          <rect y="168" width="502" height="311" rx="20" fill="#BBD567" />
          <path
            d="M605 383.554C544.616 383.554 504.502 348.277 493.214 336H453C480.43 370.687 565.069 386.973 605 383.554Z"
            fill="#BBD567"
          />
          <foreignObject x="6%" y="38%" width="403" height="224">
            <div className={styles.descriptionContainer}>
              {/* <p className={styles.description}>
                Over the past three years, we&apos;ve seen a <b>rise in serious e-bike injuries</b>{" "}
                in San Diego County, including areas like North County and UCSD. These injuries can
                be <b>serious and life-changing</b>, so it&apos;s important to know how to stay safe
                while riding.
              </p> */}
              <ReactTyped
                className={styles.description}
                strings={[
                  "Over the past three years, we&apos;ve seen a <b>rise in serious e-bike injuries</b> in San Diego County, including areas like North County and UCSD. These injuries can be <b>serious and life-changing</b>, so it&apos;s important to know how to stay safe while riding.",
                ]}
                typeSpeed={20}
                onStringTyped={() => {
                  isTextLoaded(true);
                }}
              />
            </div>
          </foreignObject>
          <foreignObject x="35%" y="91%" width="403" height="224">
            <button
              className={textLoaded ? styles.buttonFinal : styles.buttonInitial}
              onClick={handleSubmit}
            >
              <p className={styles.buttonText}>Let&apos;s get started!</p>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  d="M18.7071 12.7071C19.0976 12.3166 19.0976 11.6834 18.7071 11.2929L13.7071 6.29289C13.3166 5.90237 12.6834 5.90237 12.2929 6.29289C11.9024 6.68342 11.9024 7.31658 12.2929 7.70711L15.5858 11L6 11C5.44771 11 5 11.4477 5 12C5 12.5523 5.44771 13 6 13L15.5858 13L12.2929 16.2929C11.9024 16.6834 11.9024 17.3166 12.2929 17.7071C12.6834 18.0976 13.3166 18.0976 13.7071 17.7071L18.7071 12.7071Z"
                  fill="white"
                />
              </svg>
            </button>
          </foreignObject>
        </svg>
      </div>
    </main>
  );
}
