"use client";

import Image from "next/image";
import { useState } from "react";

import styles from "./CrashProtocol.module.css";
import { ANIMATION_TIMELINE, TEXT_BOX } from "./constants";

export default function CrashProtocol() {
  const [animationIndex, setAnimationIndex] = useState(0);
  const [textIndex, setTextIndex] = useState(0);
  const [showText, setShowText] = useState(true);
  const [isTransitioning, setIsTransitioning] = useState(false);

  const ANIMATION_LENGTH = ANIMATION_TIMELINE.length - 1;

  const handleNextClick = () => {
    if (isTransitioning || animationIndex === ANIMATION_LENGTH) return;
    setAnimationIndex((prev) => prev + 1);
    setShowText(false);
    setIsTransitioning(true);
    setTimeout(() => {
      setTextIndex((prev) => prev + 1);
      setShowText(true);
      setIsTransitioning(false);
    }, 750);
  };

  const handlePreviousClick = () => {
    if (isTransitioning || animationIndex === 0) return;
    setAnimationIndex((prev) => prev - 1);
    setShowText(false);
    setIsTransitioning(true);
    setTimeout(() => {
      setTextIndex((prev) => prev - 1);
      setShowText(true);
      setIsTransitioning(false);
    }, 750);
  };

  const currentAnimation = ANIMATION_TIMELINE[animationIndex];
  const currentTextbox = TEXT_BOX[textIndex];

  return (
    // prettier-ignore
    <section id={styles.container}>
      <h2>CRASH PROTOCOL</h2>
      <p>If you are involved in a crash, or if you witness a crash, follow the protocol below:</p>
      <svg width="924" height="490" fill="none" viewBox="0 0 924 490">
        <g clipPath="url(#clip0_4753_23524)">
          <rect width="924" height="490" fill="#B6E3FF" rx="8"></rect>
          <path id={styles.top_cloud} className={styles.transition_element} style={{ transform: `translateX(${currentAnimation.top_cloud}px)` }} fill="#CFEDFF" fillOpacity="0.58" d="M-4.48 22.174c46.666 28.5 181.6 73.7 348 26.5 208-59 187-82.998 327.5-80.498s296 188.499 582 153.499c146.74-17.958 205.89-37.698 224-52.89v-20.11c7.41 4.542 10.12 11.615 0 20.11v120.39c-64.67-25.167-105.8-88.399-337-27.999-289 75.5-522.134-43.182-618.5-61-132.5-24.5-529 40.5-626 118.5-77.6 62.4 67.666-122.001 100-196.502"></path>
          <path id={styles.bottom_cloud} className={styles.transition_element}  style={{ transform: `translateX(${currentAnimation.bottom_cloud}px)` }} fill="#CFEDFF" fillOpacity="0.55" d="M1447.12 74.174c-46.67 28.5-181.6 73.7-348 26.5-208.005-59-187.005-82.998-327.505-80.498S478.5 159 192.5 124C-3.141 100.058-45.205 39.314-40.367 14.292L-34.385 5c-2.995 1.836-5.162 5.05-5.982 9.292L-111 124c64.667-25.167 182.415 28.776 413.615 89.176 289 75.5 269.115-60.716 469-97.676s678.505 77.176 775.505 155.176c77.6 62.4-67.67-122.002-100-196.502"></path>
          <path id={styles.dark_green_hill} className={styles.transition_element} style={{ transform: `translateX(${currentAnimation.dark_green_hill}px)` }} fill="#1C3A29" d="M1425 273.025v63.5L0 363.024v-26.499c90 0 188.833-37.324 305-63.5 115.346-25.992 178.977 28.14 301.5 37.499 119.008 9.091 175.916-37.34 270-12.5 91.852 24.252 158.5 47.501 287.5-24.999 103.2-58 217-24.167 261 0"></path>
          <path id={styles.light_green_hill} className={styles.transition_element} style={{ transform: `translateX(${currentAnimation.light_green_hill}px)` }} fill="#BBD567" d="M0 273.025v63.5l1425 26.499v-26.499c-90 0-187-47.501-305-63.5s-182 24.999-301.5 37.499S652 286 557 286s-167 59.525-296-12.975c-103.2-58-217-24.167-261 0"></path>
          <g id={styles.road_container} className={styles.transition_element} style={{ transform: `translateX(${currentAnimation.road_container}px) scale(${animationIndex > 3 ? 2 : 1})` }}>
            <path id={styles.road} fill="#909090" d="M-1 373h1834v117H-1z"></path>
            <path id={styles.road_lines} className={styles.transition_element} style={{ transform: `translateY(${animationIndex > 3 ? "300px" : 0})` }} stroke="#FCD579" strokeDasharray="30 30" strokeWidth="10" d="M-2 428h1904"></path>
          </g>
          <path id={styles.dirt_road} className={styles.transition_element} style={{ transform: `scaleY(${animationIndex > 3 ? 5 : 1})` }} fill="#FFE5C9" d="M-1 335h925v38H-1z"></path>

          <g id={styles.crying_timmy} className={styles.transition_element} style={{ transform: `translateX(${839 + currentAnimation.crying_timmy}px) translateY(${animationIndex > 3 ? "220px" : "240px"}) scale(${animationIndex > 3 ? 2 : 1})` }}>
            <path opacity="0.2" d="M57.2587 169.397C82.4432 169.397 102.859 165.21 102.859 160.045C102.859 154.881 82.4432 150.694 57.2587 150.694C32.0742 150.694 11.6582 154.881 11.6582 160.045C11.6582 165.21 32.0742 169.397 57.2587 169.397Z" fill="#3D3D60" />
            <path d="M110.094 131.982C111.767 134.587 112.744 137.68 112.744 140.99C112.744 145.594 110.854 149.79 107.824 152.82C107.254 153.399 106.648 153.923 105.997 154.403C105.355 154.882 104.677 155.316 103.971 155.714C101.602 157.007 98.8795 157.74 96.0034 157.74H18.5314C9.31546 157.74 1.78169 150.206 1.78169 140.99C1.78169 137.68 2.74941 134.587 4.43162 131.982C1.57367 125.172 0 117.702 0 109.869C0 78.2422 25.6311 52.6021 57.2584 52.6021C68.4912 52.6021 78.9733 55.8399 87.8094 61.4291C87.8275 61.4382 87.8456 61.4563 87.8637 61.4653C88.334 61.7638 88.8043 62.0713 89.2746 62.3878C89.6544 62.641 90.0343 62.9033 90.4051 63.1746C90.6945 63.3736 90.9839 63.5816 91.2643 63.7987C91.4271 63.9163 91.5899 64.0338 91.7527 64.1604C92.0421 64.3685 92.3225 64.5946 92.6028 64.8116C92.9736 65.101 93.3264 65.3904 93.6881 65.6799C94.1042 66.0235 94.5112 66.3763 94.9181 66.729C95.2347 67.0094 95.5512 67.2807 95.8587 67.5791C96.1662 67.8505 96.4647 68.1308 96.7631 68.4202C97.1792 68.8091 97.5952 69.2161 97.9931 69.6321C98.4454 70.0753 98.8795 70.5366 99.2955 70.9978C99.5307 71.242 99.7567 71.4862 99.9648 71.7304C100.336 72.1283 100.679 72.5263 101.023 72.9423C101.086 73.0056 101.14 73.078 101.204 73.1503C101.421 73.4035 101.629 73.6568 101.828 73.9191C101.991 74.118 102.153 74.317 102.307 74.516C102.597 74.8777 102.886 75.2485 103.157 75.6284C103.392 75.9359 103.628 76.2615 103.854 76.578C103.917 76.6594 103.971 76.7408 104.017 76.8222C104.225 77.0936 104.414 77.3649 104.595 77.6452C104.722 77.8171 104.849 77.998 104.957 78.1788C105.129 78.4321 105.301 78.6944 105.473 78.9566C105.762 79.3998 106.042 79.8611 106.323 80.3223C106.585 80.7474 106.838 81.1815 107.082 81.6247C107.173 81.7694 107.254 81.9231 107.336 82.0769C107.562 82.4658 107.77 82.8637 107.978 83.2616C108.159 83.6053 108.34 83.958 108.511 84.3108C108.638 84.555 108.756 84.7992 108.873 85.0433C109.181 85.6674 109.47 86.2914 109.732 86.9245C109.931 87.3496 110.112 87.7837 110.284 88.2178C110.302 88.2359 110.311 88.2631 110.311 88.2811C110.519 88.7786 110.709 89.2669 110.899 89.7734C111.152 90.4427 111.397 91.13 111.614 91.8174C111.776 92.2786 111.921 92.7489 112.066 93.2192C112.102 93.3278 112.129 93.4363 112.165 93.5539C112.301 93.997 112.428 94.4583 112.554 94.9105C112.581 95.019 112.608 95.1275 112.636 95.2361C112.78 95.7878 112.925 96.3395 113.052 96.9002C113.205 97.5695 113.35 98.2568 113.477 98.9351C113.558 99.3331 113.63 99.74 113.694 100.138C113.748 100.391 113.784 100.644 113.82 100.898C113.866 101.16 113.911 101.422 113.938 101.685C113.983 101.974 114.028 102.263 114.065 102.553C114.137 103.132 114.2 103.719 114.254 104.298C114.318 104.886 114.363 105.483 114.399 106.071C114.435 106.559 114.463 107.039 114.472 107.527C114.49 107.771 114.499 108.015 114.499 108.269C114.517 108.802 114.526 109.336 114.526 109.869C114.526 115.748 113.639 121.41 111.993 126.755C111.713 127.641 111.424 128.528 111.107 129.396C110.8 130.264 110.456 131.123 110.103 131.973H110.094V131.982Z" fill="#62657A" />
            <path d="M57.2585 144.599C74.4461 144.599 88.3794 130.665 88.3794 113.478C88.3794 96.2902 74.4461 82.3569 57.2585 82.3569C40.071 82.3569 26.1377 96.2902 26.1377 113.478C26.1377 130.665 40.071 144.599 57.2585 144.599Z" stroke="#D3D3DD" strokeWidth="4.52206" strokeMiterlimit="10" />
            <path d="M57.2589 137.237C70.3806 137.237 81.0178 126.599 81.0178 113.478C81.0178 100.356 70.3806 89.7188 57.2589 89.7188C44.1372 89.7188 33.5 100.356 33.5 113.478C33.5 126.599 44.1372 137.237 57.2589 137.237Z" fill="#D3D3DD" />
            <path opacity="0.2" d="M110.094 131.981C111.767 134.586 112.744 137.679 112.744 140.989C112.744 145.593 110.854 149.789 107.824 152.819C107.254 153.398 106.648 153.923 105.997 154.402C105.355 154.89 104.677 155.324 103.971 155.713C101.602 157.007 98.8796 157.739 96.0035 157.739H83.3779C87.3302 156.681 90.8755 154.583 93.6882 151.761C97.8576 147.583 100.453 141.831 100.453 135.5C100.453 132.153 99.7297 128.979 98.4183 126.103C98.4002 126.039 98.3641 125.967 98.3369 125.904C98.563 125.443 98.771 124.981 98.9791 124.511C99.0424 124.375 99.0966 124.24 99.1599 124.104C102.208 117.104 103.908 109.371 103.908 101.231C103.908 85.766 97.7852 71.7295 87.8095 61.4282C87.8276 61.4373 87.8457 61.4554 87.8638 61.4644C88.3341 61.7629 88.8044 62.0704 89.2747 62.3869C89.6545 62.6401 90.0344 62.9024 90.4052 63.1737C90.6946 63.3727 90.984 63.5807 91.2644 63.7978C91.4272 63.9154 91.59 64.0329 91.7528 64.1596C92.0422 64.3676 92.3226 64.5937 92.6029 64.8107C92.9737 65.1001 93.3265 65.3895 93.6882 65.679C94.1043 66.0226 94.5113 66.3754 94.9182 66.7281C95.2348 67.0085 95.5513 67.2798 95.8588 67.5782C96.1663 67.8496 96.4648 68.1299 96.7632 68.4193C97.1793 68.8082 97.5953 69.2152 97.9932 69.6312C98.4545 70.0835 98.8886 70.5357 99.2956 70.9969C99.5307 71.2411 99.7568 71.4853 99.9649 71.7295C100.336 72.1274 100.679 72.5254 101.023 72.9414C101.086 73.0047 101.141 73.0771 101.204 73.1494C101.421 73.4026 101.629 73.6559 101.828 73.9182C101.991 74.1171 102.154 74.3161 102.307 74.5151C102.597 74.8768 102.886 75.2476 103.157 75.6275C103.393 75.935 103.628 76.2606 103.854 76.5771C103.917 76.6585 103.971 76.7399 104.017 76.8213C104.225 77.0927 104.415 77.364 104.595 77.6443C104.722 77.8162 104.849 77.9971 104.957 78.178C105.129 78.4312 105.301 78.6935 105.473 78.9557C105.762 79.3989 106.043 79.8602 106.323 80.3214C106.585 80.7465 106.838 81.1806 107.083 81.6238C107.173 81.7685 107.254 81.9222 107.336 82.076C107.562 82.4649 107.77 82.8628 107.978 83.2608C108.159 83.6044 108.34 83.9571 108.512 84.3099C108.638 84.5541 108.756 84.7983 108.873 85.0424C109.181 85.6665 109.47 86.2905 109.733 86.9236C109.931 87.3487 110.112 87.7828 110.284 88.2169C110.302 88.235 110.311 88.2622 110.311 88.2802C110.519 88.7777 110.709 89.266 110.899 89.7725C111.152 90.4418 111.397 91.1291 111.614 91.8165C111.776 92.2777 111.921 92.748 112.066 93.2183C112.102 93.3269 112.129 93.4354 112.165 93.553C112.301 93.9961 112.428 94.4574 112.554 94.9096C112.581 95.0181 112.609 95.1266 112.636 95.2352C112.78 95.7869 112.925 96.3386 113.052 96.8993C113.205 97.5686 113.35 98.2559 113.477 98.9342C113.558 99.3322 113.631 99.7392 113.694 100.137C113.748 100.39 113.784 100.644 113.82 100.897C113.866 101.159 113.911 101.421 113.938 101.684C113.983 101.973 114.028 102.262 114.065 102.552C114.137 103.131 114.2 103.719 114.255 104.297C114.318 104.885 114.363 105.482 114.399 106.07C114.435 106.558 114.463 107.038 114.472 107.526C114.49 107.77 114.499 108.015 114.499 108.268C114.517 108.801 114.526 109.335 114.526 109.869C114.526 115.747 113.64 121.409 111.994 126.754C111.722 127.64 111.424 128.518 111.107 129.395C110.8 130.263 110.456 131.122 110.103 131.972H110.094V131.981Z" fill="#3D3D60" />
            <path d="M109.08 111.578C108.818 119.528 106.756 127.035 103.292 133.691" stroke="#4E4E68" strokeWidth="4.52206" strokeMiterlimit="10" strokeLinecap="round" />
            <path d="M101.221 114.979C100.425 121.817 98.0739 128.175 94.5195 133.692" stroke="#4E4E68" strokeWidth="4.52206" strokeMiterlimit="10" strokeLinecap="round" />
            <path d="M5.44434 108.16C6.31257 82.1215 26.3815 60.9492 51.9492 58.3535" stroke="#4E4E68" strokeWidth="4.52206" strokeMiterlimit="10" strokeLinecap="round" />
            <path d="M13.3037 104.75C15.3929 86.797 28.2265 72.1274 45.2024 67.334" stroke="#4E4E68" strokeWidth="4.52206" strokeMiterlimit="10" strokeLinecap="round" />
            <g id={styles.crying_timmy_tear} style={{ opacity: animationIndex === 6 ? 0 : 1 }}>
              <path d="M74.2522 118.316V125.47C74.2522 127.08 72.9317 128.401 71.3219 128.401C69.712 128.401 68.3916 127.08 68.3916 125.47V118.325C68.3916 118.325 68.4368 118.38 68.464 118.407C68.5182 118.461 68.5725 118.515 68.6268 118.561C69.3322 119.203 70.2818 119.592 71.3129 119.592C72.4796 119.592 73.5196 119.103 74.2522 118.316Z" fill="#0098FF" />
              <path d="M71.3217 127.424C72.4006 127.424 73.2752 126.549 73.2752 125.47C73.2752 124.391 72.4006 123.517 71.3217 123.517C70.2428 123.517 69.3682 124.391 69.3682 125.47C69.3682 126.549 70.2428 127.424 71.3217 127.424Z" fill="#0B7AFF" />
              <path d="M70.2181 124.981C70.7226 124.981 71.1316 124.572 71.1316 124.068C71.1316 123.563 70.7226 123.154 70.2181 123.154C69.7136 123.154 69.3047 123.563 69.3047 124.068C69.3047 124.572 69.7136 124.981 70.2181 124.981Z" fill="#C2F4FF" />
            </g>
            <path d="M47.2466 115.549C47.2466 117.783 45.4378 119.592 43.2039 119.592C40.97 119.592 39.1611 117.783 39.1611 115.549" stroke="#171759" strokeWidth="3.61765" strokeMiterlimit="10" strokeLinecap="round" />
            <path d="M75.3557 115.558C75.3557 116.544 75.003 117.448 74.4151 118.145C74.3609 118.208 74.3156 118.262 74.2523 118.317C73.5198 119.103 72.4797 119.592 71.313 119.592C70.282 119.592 69.3323 119.203 68.6269 118.561C68.5726 118.516 68.5184 118.461 68.4641 118.407C68.437 118.38 68.4098 118.353 68.3917 118.326C67.6953 117.611 67.2793 116.634 67.2793 115.558" stroke="#171759" strokeWidth="3.61765" strokeMiterlimit="10" strokeLinecap="round" />
            <path style={{ rotate: animationIndex === 6 ? "180deg" : "0deg", transformBox: "fill-box", transformOrigin: "center" }} d="M50.873 127.886C51.4157 124.856 54.0656 122.55 57.2673 122.55C60.4689 122.55 63.1188 124.856 63.6614 127.886" stroke="#171759" strokeWidth="3.34633" strokeLinecap="round" strokeLinejoin="round" />
            <path d="M38.6889 155.77L37.1461 150.88C35.813 146.655 31.3072 144.31 27.082 145.643L27.0734 145.646C22.8481 146.979 20.5036 151.485 21.8366 155.71L23.3794 160.6C24.7125 164.826 29.2183 167.17 33.4435 165.837L33.4522 165.834C37.6774 164.501 40.022 159.996 38.6889 155.77Z" fill="#171759" />
            <path d="M91.1265 160.624L92.6694 155.734C94.0024 151.509 91.6578 147.003 87.4326 145.67L87.4239 145.667C83.1987 144.334 78.6929 146.679 77.3599 150.904L75.817 155.794C74.484 160.02 76.8286 164.525 81.0538 165.858L81.0624 165.861C85.2876 167.194 89.7935 164.85 91.1265 160.624Z" fill="#171759" />
            <path d="M85.458 62.8752L89.4917 57.4307C89.9077 60.0173 90.3328 62.6129 90.7488 65.1996C94.068 64.6388 97.3963 64.0691 100.715 63.5083C99.802 65.5523 98.8976 67.5872 97.9841 69.6312C99.6483 70.418 101.303 71.2139 102.967 72.0008L98.5991 75.2114" fill="#62657A" />
            <path d="M85.458 62.8752L89.4917 57.4307C89.9077 60.0173 90.3328 62.6129 90.7488 65.1996C94.068 64.6388 97.3963 64.0691 100.715 63.5083C99.802 65.5523 98.8976 67.5872 97.9841 69.6312C99.6483 70.418 101.303 71.2139 102.967 72.0008L98.5991 75.2114" stroke="#4E4E68" strokeWidth="3.61765" strokeLinecap="round" strokeLinejoin="round" />
            <g id={styles.crying_timmy_steam} style={{ scale: animationIndex > 2 ? 1 : 0, opacity: animationIndex > 2 ? 1 : 0 }}>
              <path d="M123.588 50.9286L122.448 50.8834C122.096 50.8653 121.797 51.1095 121.725 51.4531L121.508 52.5656C120.043 60.1174 110.718 61.5645 106.576 56.3822C106.314 56.0566 105.816 56.0566 105.527 56.3641L98.4544 64.0335C97.1159 65.4896 94.7825 63.8979 95.6507 62.1252L100.263 52.6108C100.453 52.2128 100.236 51.7154 99.802 51.625C93.0008 50.1598 90.4504 40.555 97.0616 36.2138L98.0112 35.5897C98.3006 35.3998 98.4092 35.0199 98.2645 34.7034L97.7942 33.6814C93.9866 25.5327 103.772 17.8271 110.8 23.4344L111.677 24.1399C111.948 24.3569 112.346 24.3388 112.599 24.1037L113.422 23.3349C119.988 17.2121 130.344 24.1308 127.188 32.5509L126.79 33.6091C126.663 33.9347 126.799 34.3055 127.106 34.4773L128.092 35.02C135.951 39.3702 132.569 51.3536 123.597 50.9467L123.588 50.9286Z" fill="white" />
              <path d="M147.179 20.3189C143.492 21.7532 139.811 23.1848 136.126 24.6265C135.571 24.8412 135.581 25.6271 136.139 25.8314L139.7 27.134L135.172 29.8261C134.515 30.2143 134.965 31.2249 135.694 31.002C139.47 29.8189 143.254 28.633 147.03 27.4499C147.607 27.2689 147.641 26.4661 147.082 26.237C145.944 25.7699 144.808 25.3101 143.663 24.8458C145.052 23.7036 146.435 22.5642 147.824 21.422C148.393 20.9585 147.866 20.0532 147.179 20.3189Z" fill="#FF3939" />
              <path d="M132.458 23.2218C136.294 19.4116 140.127 15.594 143.955 11.7866C144.531 11.2112 144.093 10.2297 143.279 10.2756L138.104 10.5797L142.31 4.72791C142.922 3.87793 141.804 2.85668 141.014 3.5489C136.925 7.09579 132.839 10.65 128.742 14.1997C128.121 14.7425 128.516 15.7656 129.341 15.749C131.021 15.7043 132.704 15.667 134.383 15.6223C133.271 17.8081 132.152 19.9967 131.042 22.1898C130.591 23.0868 131.74 23.928 132.455 23.2145L132.458 23.2218Z" fill="#FF3939" />
              <path d="M124.201 15.8803C123.644 11.9627 123.09 8.0523 122.533 4.13463C122.448 3.5458 121.683 3.37112 121.354 3.86788L119.269 7.0348L117.684 2.00233C117.451 1.2692 116.365 1.47929 116.426 2.24537C116.719 6.19783 117.002 10.1458 117.296 14.0983C117.337 14.7041 118.116 14.9153 118.465 14.4275C119.176 13.4215 119.891 12.4228 120.602 11.4169C121.393 13.0266 122.193 14.6407 122.984 16.2504C123.305 16.9075 124.305 16.6047 124.199 15.873L124.201 15.8803Z" fill="#FF3939" />
            </g>
          </g>
          <path fill="#62657A" d="m924.458 307.875 4.034-5.444c.416 2.586.841 5.182 1.257 7.769 3.319-.561 6.647-1.131 9.966-1.692-.913 2.044-1.817 4.079-2.731 6.123 1.664.787 3.319 1.583 4.983 2.37l-4.368 3.21"></path>
          <path stroke="#4E4E68" strokeLinecap="round" strokeLinejoin="round" strokeWidth="3.618" d="m924.458 307.875 4.034-5.444c.416 2.586.841 5.182 1.257 7.769 3.319-.561 6.647-1.131 9.966-1.692-.913 2.044-1.817 4.079-2.731 6.123 1.664.787 3.319 1.583 4.983 2.37l-4.368 3.21"></path>

          <g id={styles.shocked_timmy_container} className={styles.transition_element} style={{ transform: `translateX(${currentAnimation.shocked_timmy}px)` }}>
            <g id={styles.shocked_timmy} className={styles.transition_element} style={{ transform: `scale(${animationIndex > 3 ? 2 : 1})` }}>
              <path fill="#3D3D60" d="M208.594 408.75c21.819 0 39.506-3.627 39.506-8.102 0-4.474-17.687-8.102-39.506-8.102s-39.505 3.628-39.505 8.102 17.687 8.102 39.505 8.102" opacity="0.2"></path>
              <path fill="#171759" d="m193.987 397.145 11.095-18.077a5.306 5.306 0 0 0-1.746-7.296l-.007-.004a5.305 5.305 0 0 0-7.296 1.746l-11.095 18.077a5.306 5.306 0 0 0 1.746 7.296l.007.004a5.306 5.306 0 0 0 7.296-1.746"></path>
              <path fill="#171759" d="m198.817 393.925-6.591-4.046a5.306 5.306 0 0 0-7.296 1.746l-.004.007a5.306 5.306 0 0 0 1.746 7.296l6.591 4.045a5.305 5.305 0 0 0 7.296-1.746l.004-.007a5.303 5.303 0 0 0-1.746-7.295M230.336 393.416l-8.742-19.325a5.303 5.303 0 0 0-7.019-2.646l-.007.003a5.305 5.305 0 0 0-2.647 7.019l8.742 19.325a5.305 5.305 0 0 0 7.019 2.647l.007-.004a5.303 5.303 0 0 0 2.647-7.019"></path>
              <path fill="#171759" d="m230.375 387.619-7.046 3.187a5.305 5.305 0 0 0-2.647 7.019l.004.007a5.303 5.303 0 0 0 7.019 2.647l7.046-3.187a5.306 5.306 0 0 0 2.647-7.02l-.004-.007a5.303 5.303 0 0 0-7.019-2.646"></path>
              <path fill="#62657A" d="M255.355 335.506c-.666 18.467-12.223 34.271-28.701 42.921-14.675 7.702-33.84 9.787-47.693-.815a35.4 35.4 0 0 1-4.921-4.575 41 41 0 0 1-4.654-6.402c-3.205-5.453-5.626-11.337-8.815-16.807-2.366-4.05-5.148-7.866-7.193-12.082-7.874-16.219 2.288-33.652 14.966-43.956 14.722-11.964 34.836-15.051 52.598-8.211 5.211 2.006 10.108 4.874 14.48 8.407 10.632 8.556 18.186 21.03 19.682 34.648.251 2.327.337 4.615.251 6.872"></path>
              <path stroke="#D3D3DD" strokeMiterlimit="10" strokeWidth="3.918" d="M210.247 356.997c14.891 0 26.962-12.071 26.962-26.961s-12.071-26.961-26.962-26.961-26.961 12.071-26.961 26.961 12.071 26.961 26.961 26.961Z"></path>
              <path fill="#D3D3DD" d="M210.246 350.62c11.368 0 20.584-9.216 20.584-20.584s-9.216-20.583-20.584-20.583-20.583 9.216-20.583 20.583c0 11.368 9.216 20.584 20.583 20.584"></path>
              <path fill="#3D3D60" d="M255.355 335.506c-.666 18.467-12.223 34.271-28.701 42.921-14.675 7.703-33.841 9.787-47.693-.814a35.4 35.4 0 0 1-4.921-4.576 47.6 47.6 0 0 0 23.091 5.962c27.4 0 49.605-23.27 49.605-51.979 0-12.544-4.239-24.054-11.314-33.034 10.632 8.556 18.186 21.03 19.682 34.648.251 2.327.337 4.615.251 6.872" opacity="0.2"></path>
              <path stroke="#4E4E68" strokeLinecap="round" strokeMiterlimit="10" strokeWidth="3.918" d="M249.917 335.458c-.752 22.558-18.139 40.901-40.289 43.15"></path>
              <path stroke="#4E4E68" strokeLinecap="round" strokeMiterlimit="10" strokeWidth="3.918" d="M243.108 338.405c-1.81 15.553-12.928 28.262-27.635 32.415M159.686 325.28c3.831-22.244 23.56-38.04 45.805-37.241"></path>
              <path stroke="#4E4E68" strokeLinecap="round" strokeMiterlimit="10" strokeWidth="3.918" d="M166.839 323.29c3.918-15.161 16.666-26.232 31.803-28.332"></path>
              <g style={{ opacity: textIndex === 0 ? 1 : 0 }}>
                <path id={styles.main_timmy_eyes} fill="#fff" stroke="#171759" strokeMiterlimit="10" strokeWidth="3.134" d="M202.248 330.954v-2.006a3.502 3.502 0 1 0-7.005 0v2.006a3.502 3.502 0 0 0 7.005 0ZM228.175 330.954v-2.006a3.503 3.503 0 1 0-7.005 0v2.006a3.502 3.502 0 0 0 7.005 0Z"></path>
                <path id={styles.main_timmy_mouth} fill="#fff" stroke="#171759" strokeLinecap="round" strokeLinejoin="round" strokeWidth="3.134" d="M218.592 342.651c0-6.503-2.727-11.776-6.088-11.776s-6.088 5.281-6.088 11.776H218.6z"></path>
              </g>
              <g style={{ opacity: textIndex !== 0 ? 1 : 0 }}>
                <path d="M202.931 330.45V328.465C202.931 326.551 201.379 325 199.465 325C197.552 325 196 326.551 196 328.465V330.45C196 332.363 197.552 333.915 199.465 333.915C201.379 333.915 202.931 332.363 202.931 330.45Z" fill="#171759" />
                <path d="M228.582 330.458V328.473C228.582 326.559 227.031 325.008 225.117 325.008C223.203 325.008 221.652 326.559 221.652 328.473V330.458C221.652 332.371 223.203 333.923 225.117 333.923C227.031 333.923 228.582 332.371 228.582 330.458Z" fill="#171759" />
                <path style={{ rotate: animationIndex === 6 ? "180deg" : "0deg", transformBox: "fill-box", transformOrigin: "center" }} d="M206.814 339.226C207.28 336.629 209.551 334.652 212.295 334.652C215.039 334.652 217.311 336.629 217.776 339.226" stroke="#171759" strokeWidth="2.86828" strokeLinecap="round" strokeLinejoin="round" />
                <path d="M161.5 347C166.194 347 170 350.806 170 355.5C170 360.194 166.194 364 161.5 364C156.806 364 153 360.194 153 355.5C153 350.806 156.806 347 161.5 347Z" fill="#171759" />
                <path d="M269.5 327C274.194 327 278 330.806 278 335.5C278 340.194 274.194 344 269.5 344C264.806 344 261 340.194 261 335.5C261 330.806 264.806 327 269.5 327Z" fill="#171759" />
              </g>
              <g id={styles.main_timmy_tear} style={{ opacity: animationIndex === 6 ? 0 : 1 }}>
                <path fill="#0098FF" d="m178.475 319.192-2.797 7.921c-.979 2.782 1.081 5.697 4.028 5.697s5.006-2.915 4.027-5.697l-2.797-7.921c-.408-1.16-2.045-1.16-2.461 0"></path>
                <path fill="#0B7AFF" d="M179.752 331.321a2.844 2.844 0 1 0 .001-5.689 2.844 2.844 0 0 0-.001 5.689"></path>
                <path fill="#C2F4FF" d="M178.154 327.771a1.332 1.332 0 1 0 0-2.663 1.332 1.332 0 0 0 0 2.663"></path>
              </g>
              <path id={styles.speed_lines} style={{ opacity: textIndex === 0 ? "1" : "0" }} fill="#FF3939" d="M142.488 353.919c3.957-.008 7.906-.016 11.863-.031.595 0 .87-.737.423-1.128l-2.852-2.5 5.195-.877c.752-.126.697-1.231-.063-1.285l-11.855-.776a.645.645 0 0 0-.486 1.112c.894.847 1.787 1.685 2.688 2.531-1.708.564-3.408 1.129-5.117 1.693-.697.227-.532 1.261.204 1.261M157.265 356.52c-4.952 2.17-9.904 4.349-14.848 6.519-.744.329-.689 1.403.086 1.653l4.937 1.583-6.033 3.941c-.878.572-.204 1.928.783 1.567 5.093-1.833 10.186-3.675 15.287-5.508.775-.282.775-1.379 0-1.661-1.583-.564-3.166-1.136-4.748-1.7 1.825-1.638 3.659-3.276 5.484-4.921.745-.674-.023-1.873-.948-1.465zM162.319 366.345l-2.679 11.557a.646.646 0 0 0 1.003.674l3.087-2.202-.337 5.265c-.047.768 1.042.964 1.261.228 1.152-3.793 2.312-7.577 3.463-11.369.181-.58-.47-1.058-.971-.729-1.027.682-2.053 1.356-3.079 2.037-.157-1.786-.322-3.581-.478-5.367-.063-.729-1.105-.807-1.27-.086z"></path>
            </g>

            <g id={styles.main_bike} className={styles.transition_element} style={{ transform: `translateX(${-1 * currentAnimation.shocked_timmy + currentAnimation.main_bike}px) translateY(${animationIndex > 3 ? "300px" : 0}) scale(${animationIndex > 3 ? 2 : 1})` }}>
              <path fill="#3D3D60" d="M363 476c70.14 0 127-3.582 127-8s-56.86-8-127-8-127 3.582-127 8 56.86 8 127 8" opacity="0.2"></path>
              <path stroke="#484848" strokeWidth="1.572" d="m284.31 400.649 12.104 31.912 5.816-3.616 27.353-30.182m60.365-14.305 14.305-2.044 1.887 6.445-10.061 7.389M386.175 378.169l-5.659-10.846h5.659v-21.38l-13.519 2.987"></path>
              <circle cx="296.729" cy="436.805" r="31.754" stroke="#62657A" strokeWidth="6.288"></circle>
              <path stroke="#4E4E68" strokeLinecap="round" strokeMiterlimit="10" strokeWidth="0.943" d="M264.267 428.165c4.087-11.385 13.204-20.872 23.894-23.114"></path>
              <path stroke="#4E4E68" strokeLinecap="round" strokeMiterlimit="10" strokeWidth="0.943" d="M266.939 427.301c2.673-8.624 10.533-16.213 18.078-18.801"></path>
              <circle cx="416.829" cy="436.805" r="31.754" stroke="#62657A" strokeWidth="6.288"></circle>
              <path stroke="#4E4E68" strokeLinecap="round" strokeMiterlimit="10" strokeWidth="0.943" d="M384.682 428.165c4.087-11.385 13.204-20.872 23.894-23.114"></path>
              <path stroke="#4E4E68" strokeLinecap="round" strokeMiterlimit="10" strokeWidth="0.943" d="M387.354 427.301c2.672-8.624 10.532-16.213 18.078-18.801"></path>
              <path fill="#BBD567" d="m346.439 449.873-53.408-7.144a7.7 7.7 0 0 1 .726-15.324l53.845-2.058c6.984-.267 12.792 5.323 12.792 12.313 0 7.454-6.567 13.201-13.955 12.213"></path>
              <path stroke="#BBD567" strokeWidth="4.087" d="M333.041 426.587c-7.231-34.427-64.923-41.658-74.041 5.502M447.203 414.828c-19.527-29.899-74.547-15.751-67.63 29.523"></path>
              <path stroke="#BBD567" strokeWidth="4.716" d="M335.242 405.994c11.738 5.345 40.526 11.821 54.234-18.864m-33.012 44.645 40.086-31.44"></path>
              <path stroke="#9AB445" strokeWidth="4.087" d="m328.954 394.047 24.366 46.06m32.226-60.68 30.654 55.806"></path>
              <rect width="7.231" height="10.061" x="324.396" y="391.676" fill="#BBD567" rx="3.144" transform="rotate(-21.578 324.396 391.676)"></rect>
              <rect width="7.231" height="10.061" x="381.931" y="378.157" fill="#BBD567" rx="3.144" transform="rotate(-21.578 381.931 378.157)"></rect>
              <circle cx="416.986" cy="436.648" r="6.445" fill="#4E4E68"></circle>
              <path fill="#9AB445" d="M286.353 435.547c.471 4.402 3.615 6.603 6.288 7.074l54.234 7.232c8.646.786 13.362-6.446 13.519-11.476-31.283-.786-48.889-1.258-74.041-2.83"></path>
              <path fill="url(#paint0_linear_4753_23524)" fillOpacity="0.5" d="m483.01 349.402-44.33 50.776 6.445 9.432L533 448.752z"></path>
              <path fill="#FCD579" d="m438.994 399.706-5.187.943c5.03 2.201 11.475 8.332 12.261 9.275l-.471-4.873z"></path>
              <circle cx="347.504" cy="437.277" r="6.445" fill="#62657A"></circle>
              <path stroke="#484848" strokeWidth="1.572" d="M347.347 437.434v18.078"></path>
              <path fill="#FCD579" d="M340.115 454.412h14.462v5.659h-14.462zM346.581 381.471h-33.808c-1.858 0-3.35 1.632-2.809 3.41 4.071 13.382 23.085 8.605 27.763 4.851 2.534-2.033 6.11-3.864 8.661-4.456.996-.231 1.901-1.075 1.901-2.097 0-.944-.764-1.708-1.708-1.708"></path>
              <path fill="#F0C254" d="m408.405 394.418-6.098-21.478a1.572 1.572 0 0 1 1.512-2.002h13.042c.791 0 1.459.588 1.559 1.373l2.052 16.007a1.57 1.57 0 0 1-.742 1.543l-8.996 5.471a1.573 1.573 0 0 1-2.329-.914"></path>
              <rect width="21.379" height="4.087" x="399.852" y="369.838" fill="#FCD579" rx="2.044"></rect>
              <rect width="21.379" height="4.087" x="360.237" y="349.613" fill="#FCD579" rx="2.044" transform="rotate(-12.461 360.237 349.613)"></rect>
            </g>
            <g id={styles.broken_bike} className={styles.transition_element} style={{ transform: `translateX(${-1 * currentAnimation.shocked_timmy + currentAnimation.broken_bike}px) translateY(${animationIndex > 3 ? "300px" : 0}) scale(${animationIndex > 3 ? 2 : 1})` }}>
              <path fill="#3D3D60" d="M520 448c27.062 0 49-3.582 49-8s-21.938-8-49-8-49 3.582-49 8 21.938 8 49 8M594 467c17.673 0 32-3.582 32-8s-14.327-8-32-8-32 3.582-32 8 14.327 8 32 8" opacity="0.2"></path>
              <path fill="#1C3A29" d="m541.898 391.592 1.657-2.795-21.923 9.068-27.668-12.472-6.879-56.593 7.208-2.981-2.339-5.653-6.425 2.658a9.75 9.75 0 0 0-5.962 10.108l10.099 89.093a4.175 4.175 0 0 0 8.297-.939l-2.851-25.265 26.145 11.343 26.305-11.232-8.575-.322 4.961-4.162z"></path>
              <path fill="#BBD567" d="m522.034 406.491 25.828-10.683-1.885 3.945 8.305-2.028-2.33 2.018 3.324.384-2.186 4.069-27.329 11.305a4.875 4.875 0 0 1-3.727-9.01"></path>
              <circle cx="18.2" cy="18.2" r="14.95" stroke="#62657A" strokeWidth="6.5" transform="scale(-1 1)rotate(22.472 -1258.064 -1070.634)"></circle>
              <path stroke="#4E4E68" strokeLinecap="round" strokeWidth="1.3" d="M494.458 406.995c2.475.031 8.278.796 12.187 4.806"></path>
              <circle cx="0.65" cy="0.65" r="0.65" fill="#4E4E68" transform="scale(-1 1)rotate(22.472 -1268.485 -1035.29)"></circle>
              <rect width="29.9" height="8.14" fill="#FCD579" rx="4.07" transform="scale(-1 1)rotate(22.472 -1038.196 -1139.76)"></rect>
              <circle cx="7.8" cy="7.8" r="7.8" fill="#FCD579" transform="scale(-1 1)rotate(22.472 -1289.44 -1049.656)"></circle>
              <path fill="#BBD567" d="M591.299 440.616h-31.728l-3.697 2.516 11.831.944-5.546 1.572 2.218 1.259-4.806 3.459h31.728a4.875 4.875 0 1 0 0-9.75"></path>
              <path fill="#1C3A29" d="M570.824 432.491c6.405-8.817 11.945-12.288 22.101-12.482 4.993-.096 8.774 4.249 8.774 9.242v.965c-11.798.239-17.227 2.778-25.35 10.4h-17.225l-8.125-3.575 8.45-1.625-4.225-.975 3.9-1.95z"></path>
              <circle cx="18.2" cy="18.2" r="14.95" stroke="#62657A" strokeWidth="6.5" transform="matrix(-1 0 0 1 611.774 427.616)"></circle>
              <path stroke="#4E4E68" strokeLinecap="round" strokeWidth="1.3" d="M599.425 430.541c2.275.975 7.345 3.9 9.425 9.1"></path>
              <circle cx="0.65" cy="0.65" r="0.65" fill="#4E4E68" transform="matrix(-1 0 0 1 597.475 428.916)"></circle>
              <circle cx="7.8" cy="7.8" r="7.8" fill="#FCD579" transform="matrix(-1 0 0 1 601.374 438.016)"></circle>
            </g>

            <rect id={styles.dark_overlay} style={{ transform: `translateX(-${currentAnimation.shocked_timmy}px) scaleX(2)`, opacity: animationIndex === 2 || animationIndex === 5 ? 1 : 0 }} y="-1" width="924" height="491" fill="black" fillOpacity="0.3" />
            <g id={styles.text_box_button_container} style={{ opacity: showText ? 1 : 0 }}>
              <g transform={`translate(${45 + currentTextbox.x} ${144 + currentTextbox.y})`}>
                <foreignObject width={currentTextbox.width + 24} height={currentTextbox.height}>
                  <div>
                    <p>{currentTextbox.text}</p>
                    <button id={styles.left_button} onClick={handlePreviousClick} disabled={textIndex === 0}>
                      <Image src="/module6/caret_left.svg" width="16" height="16" alt="Left Arrow" />
                    </button>
                    <button id={styles.right_button} onClick={handleNextClick} disabled={textIndex === ANIMATION_LENGTH}>
                      <Image src="/module6/caret_left.svg" width="16" height="16" alt="Left Arrow" style={{ rotate: "180deg" }} />
                    </button>
                  </div>
                </foreignObject>
              </g>
              <path fill="#fff" d="m201.5 269 13.423-45.75h-26.846z" transform={`translate(${currentTextbox.x + 12} ${-80 + (currentTextbox.height + currentTextbox.y)})`}></path>
            </g>
          </g>

          <g className={styles.phone} style={{ transform: `translate(140px,320px)`, opacity: animationIndex === 6 ? 1 : 0 }}>
            <path d="M27.0557 6.93777C27.3367 6.13616 28.2143 5.71411 29.0159 5.99508C29.7889 6.26604 30.2139 7.09533 29.9825 7.88109L28.0369 14.4863L25.3993 11.6633L27.0557 6.93777Z" fill="url(#paint0_linear_4325_43847)" />
            <path d="M29.698 19.7505C30.7362 13.071 23.4984 8.22199 17.7161 11.7232C13.6953 14.1577 10.9568 18.2454 10.2348 22.89L3.77052 64.4761L24.8324 51.0519L29.698 19.7505Z" fill="url(#paint1_linear_4325_43847)" />
            <path d="M50.23 68.8145C55.3654 72.406 55.1297 80.0863 49.7836 83.356C43.9626 86.9162 36.5973 86.7428 30.9503 82.9126L3.76856 64.4757L24.8307 51.0513L50.23 68.8145Z" fill="url(#paint2_linear_4325_43847)" />
            <path d="M47.5506 68.8675C51.7876 71.8786 51.0124 78.3852 46.1865 80.3166C42.0803 81.9599 37.4227 81.4261 33.7948 78.8963L8.79235 61.4614L23.19 51.5553L47.5506 68.8675Z" fill="#62657A" />
            <path d="M28.2532 19.2762C29.0645 14.0567 22.9445 10.6448 18.9313 14.0793C16.867 15.8458 15.503 18.2926 15.0856 20.9773L8.79261 61.4618L23.2134 51.6982L28.2532 19.2762Z" fill="#62657A" />
            <path d="M27.3224 20.3737C27.9559 16.2983 23.3176 13.5148 20.0194 15.9909C18.1018 17.4306 16.8225 19.5624 16.4541 21.9318L10.9649 57.2454L22.545 51.1082L27.3224 20.3737Z" fill="url(#paint3_radial_4325_43847)" />
            <path d="M12.2871 59.4868L23.5371 53.4868L45.2871 68.4868L34.7871 75.9868L12.2871 59.4868Z" fill="#B6E3FF" />
            <path d="M39.2871 73.7368L16.0371 56.4868L19.7871 54.2368L43.0371 70.7368L39.2871 73.7368Z" stroke="#62657A" strokeWidth="0.75" />
            <path d="M16.0371 63.9868L28.7871 56.4868L34.7871 60.9868L23.5371 68.4868L28.7871 72.9868L40.7871 64.7368" stroke="#62657A" strokeWidth="0.75" />
          </g>
          <g className={styles.phone} style={{ transform: `translate(695px,345px) rotate(40deg) scaleX(-1)`, opacity: animationIndex === 6 ? 1 : 0, transformBox: "fill-box", transformOrigin: "center" }}>
            <path d="M27.0557 6.93777C27.3367 6.13616 28.2143 5.71411 29.0159 5.99508C29.7889 6.26604 30.2139 7.09533 29.9825 7.88109L28.0369 14.4863L25.3993 11.6633L27.0557 6.93777Z" fill="url(#paint0_linear_4325_43847)" />
            <path d="M29.698 19.7505C30.7362 13.071 23.4984 8.22199 17.7161 11.7232C13.6953 14.1577 10.9568 18.2454 10.2348 22.89L3.77052 64.4761L24.8324 51.0519L29.698 19.7505Z" fill="url(#paint1_linear_4325_43847)" />
            <path d="M50.23 68.8145C55.3654 72.406 55.1297 80.0863 49.7836 83.356C43.9626 86.9162 36.5973 86.7428 30.9503 82.9126L3.76856 64.4757L24.8307 51.0513L50.23 68.8145Z" fill="url(#paint2_linear_4325_43847)" />
            <path d="M47.5506 68.8675C51.7876 71.8786 51.0124 78.3852 46.1865 80.3166C42.0803 81.9599 37.4227 81.4261 33.7948 78.8963L8.79235 61.4614L23.19 51.5553L47.5506 68.8675Z" fill="#62657A" />
            <path d="M28.2532 19.2762C29.0645 14.0567 22.9445 10.6448 18.9313 14.0793C16.867 15.8458 15.503 18.2926 15.0856 20.9773L8.79261 61.4618L23.2134 51.6982L28.2532 19.2762Z" fill="#62657A" />
            <path d="M27.3224 20.3737C27.9559 16.2983 23.3176 13.5148 20.0194 15.9909C18.1018 17.4306 16.8225 19.5624 16.4541 21.9318L10.9649 57.2454L22.545 51.1082L27.3224 20.3737Z" fill="url(#paint3_radial_4325_43847)" />
            <path d="M12.2871 59.4868L23.5371 53.4868L45.2871 68.4868L34.7871 75.9868L12.2871 59.4868Z" fill="#B6E3FF" />
            <path d="M39.2871 73.7368L16.0371 56.4868L19.7871 54.2368L43.0371 70.7368L39.2871 73.7368Z" stroke="#62657A" strokeWidth="0.75" />
            <path d="M16.0371 63.9868L28.7871 56.4868L34.7871 60.9868L23.5371 68.4868L28.7871 72.9868L40.7871 64.7368" stroke="#62657A" strokeWidth="0.75" />
          </g>

          <g id={styles.grave} className={styles.transition_element} style={{ transform: `translate(343px, ${490 + currentAnimation.grave}px)` }}>
            <path d="M186 12.5C186 5.59644 191.596 0 198.5 0C205.404 0 211 5.59644 211 12.5V82.5L186 65V12.5Z" fill="url(#paint0_linear_4325_43288)" />
            <path d="M0 151C0 85.2781 53.2781 32 119 32C184.722 32 238 85.2781 238 151V299H0V151Z" fill="url(#paint1_linear_4325_43288)" />
            <path d="M15 148C15 92.7715 59.7715 48 115 48H123C178.228 48 223 92.7715 223 148V299H15V148Z" fill="url(#paint2_linear_4325_43288)" />
            <path d="M26 151.5C26 100.414 67.4137 59 118.5 59C169.586 59 211 100.414 211 151.5V299H26V151.5Z" fill="url(#paint3_radial_4325_43288)" />
            <rect x="56" y="142" width="125" height="65" fill="url(#paint4_radial_4325_43288)" />
            <path d="M94.1961 193.723C92.868 193.723 91.4747 193.547 90.0164 193.195C88.5711 192.844 87.1974 192.323 85.8953 191.633C84.6063 190.943 83.506 190.09 82.5945 189.074C81.6831 188.046 81.1102 186.861 80.8758 185.52L90.6805 182.844C91.0841 183.625 91.631 184.224 92.3211 184.641C93.0112 185.044 93.7143 185.246 94.4305 185.246C95.5503 185.246 96.5464 184.908 97.4188 184.23C98.2911 183.54 98.7273 182.466 98.7273 181.008C98.7273 180.878 98.7273 180.773 98.7273 180.695C98.7273 180.604 98.7143 180.48 98.6883 180.324C98.0112 180.493 97.243 180.617 96.3836 180.695C95.5242 180.76 94.6648 180.793 93.8055 180.793C92.0737 180.793 90.368 180.656 88.6883 180.383C87.0086 180.109 85.4852 179.634 84.118 178.957C82.7638 178.28 81.6766 177.342 80.8563 176.145C80.049 174.934 79.6453 173.391 79.6453 171.516C79.6453 169.823 79.9578 168.371 80.5828 167.16C81.2078 165.936 82.0542 164.927 83.1219 164.133C84.1896 163.326 85.394 162.688 86.7352 162.219C88.0763 161.75 89.4695 161.418 90.9148 161.223C92.3602 161.027 93.7599 160.93 95.1141 160.93C97.2365 160.93 99.2807 161.262 101.247 161.926C103.213 162.577 104.971 163.54 106.52 164.816C108.083 166.079 109.32 167.635 110.231 169.484C111.143 171.333 111.598 173.449 111.598 175.832C111.598 178.697 111.162 181.242 110.29 183.469C109.417 185.695 108.193 187.57 106.618 189.094C105.042 190.604 103.2 191.757 101.091 192.551C98.9813 193.332 96.6831 193.723 94.1961 193.723ZM93.2781 174.367H98.5516C98.5516 173.065 98.3107 171.919 97.8289 170.93C97.3471 169.94 96.7091 169.165 95.9148 168.605C95.1336 168.046 94.2807 167.766 93.3563 167.766C92.8615 167.766 92.3927 167.896 91.95 168.156C91.5073 168.404 91.2859 168.82 91.2859 169.406C91.2859 169.966 91.4292 170.695 91.7156 171.594C92.0151 172.479 92.5359 173.404 93.2781 174.367ZM121.168 176.203L114.234 178.723V169.23L130.445 161.809H134.039V193H121.168V176.203ZM144.546 176.203L137.612 178.723V169.23L153.823 161.809H157.417V193H144.546V176.203Z" fill="white" />
          </g>

          <g id={styles.polaroid} className={styles.transition_element} style={{ transform: `translate(270px, ${485 + currentAnimation.polaroid}px)` }} clipPath="url(#clip0_4325_43685)" filter="url(#filter0_d_4325_43685)">
            <path fill="#fff" d="M10 30.142 314.965 5l30.596 371.116-304.965 25.142z"></path>
            <g clipPath="url(#clip1_4325_43685)">
              <path fill="#B6E3FF" d="M25.87 44.638 300.561 21.99l20.983 254.512-274.693 22.646z"></path>
              <path fill="#909090" d="m2.082 217.545 742.006-61.172 6.955 84.368L9.038 301.913z"></path>
              <path stroke="#FCD579" strokeDasharray="21.71 21.71" strokeWidth="7.235" d="m4.63 257.265 736.238-60.697"></path>
              <path fill="#FFE5C9" d="m-.178 190.145 343.962-28.357 2.26 27.401L2.08 217.546z"></path>
              <path stroke="#484848" strokeWidth="1.137" d="M-9.635 240.038.991 262.33l3.98-2.953L22.9 235.986m42.678-13.904 10.194-2.324 1.743 4.536-6.815 5.925M62.487 217.771l-4.726-7.485 4.08-.336-1.27-15.417L51 197.491"></path>
              <circle cx="1.472" cy="265.37" r="22.976" stroke="#62657A" strokeWidth="4.55" transform="rotate(-4.713 1.472 265.37)"></circle>
              <circle cx="88.076" cy="258.231" r="22.976" stroke="#62657A" strokeWidth="4.55" transform="rotate(-4.713 88.076 258.231)"></circle>
              <path stroke="#4E4E68" strokeLinecap="round" strokeMiterlimit="10" strokeWidth="0.682" d="M64.38 253.91c2.27-8.453 8.281-15.835 15.856-18.088"></path>
              <path stroke="#4E4E68" strokeLinecap="round" strokeMiterlimit="10" strokeWidth="0.682" d="M66.256 253.131c1.415-6.378 6.631-12.318 11.919-14.632"></path>
              <path fill="#BBD567" d="m38.094 271.838-38.937-1.976a5.57 5.57 0 0 1-.387-11.094l38.705-4.685c5.02-.607 9.54 3.078 9.956 8.119.443 5.375-3.95 9.909-9.337 9.636"></path>
              <path stroke="#BBD567" strokeWidth="2.957" d="M27.048 255.844c-7.26-24.395-49.292-26.179-53.063 8.37M108.672 240.578c-15.858-20.399-54.692-6.927-47.013 25.309"></path>
              <path stroke="#BBD567" strokeWidth="3.412" d="M27.41 240.863c8.782 3.156 29.927 6.115 37.987-16.827m-21.15 34.155 27.036-25.054"></path>
              <path stroke="#9AB445" strokeWidth="2.957" d="m22.168 232.623 20.308 31.765m19.631-45.672 25.422 38.419"></path>
              <rect width="5.232" height="7.279" x="18.738" y="231.184" fill="#BBD567" rx="2.275" transform="rotate(-26.29 18.738 231.184)"></rect>
              <rect width="5.232" height="7.279" x="59.424" y="218.014" fill="#BBD567" rx="2.275" transform="rotate(-26.29 59.424 218.014)"></rect>
              <circle cx="88.179" cy="258.109" r="4.663" fill="#4E4E68" transform="rotate(-4.713 88.18 258.109)"></circle>
              <path fill="#9AB445" d="M-6.084 265.079c.602 3.146 3 4.546 4.955 4.727l39.538 1.991c6.28.052 9.252-5.442 9.066-9.079-22.605 1.293-35.329 1.999-53.559 2.361"></path>
              <path fill="url(#paint0_linear_4325_43685)" fillOpacity="0.5" d="m130.603 191.27-28.948 39.25 5.209 6.418 65.693 23.002z"></path>
              <path fill="#FCD579" d="m101.854 230.161-3.685.989c3.759 1.288 8.771 5.326 9.394 5.959l-.63-3.486z"></path>
              <circle cx="38.113" cy="262.693" r="4.663" fill="#62657A" transform="rotate(-4.713 38.113 262.693)"></circle>
              <path stroke="#484848" strokeWidth="1.137" d="m38.01 262.814 1.075 13.036"></path>
              <path fill="#FCD579" d="m33.805 275.488 10.429-.86.336 4.081-10.429.86zM34.13 222.506l-24.378 2.01c-1.34.11-2.32 1.376-1.823 2.626 3.73 9.407 17.158 4.832 20.308 1.848 1.707-1.617 4.176-3.15 5.98-3.729.705-.225 1.308-.888 1.247-1.625a1.236 1.236 0 0 0-1.333-1.13"></path>
              <path fill="#F0C254" d="m79.483 228.166-5.675-15.125a1.137 1.137 0 0 1 .971-1.533l9.405-.775a1.14 1.14 0 0 1 1.206.897l2.432 11.421c.093.439-.08.892-.444 1.156l-6.162 4.48a1.137 1.137 0 0 1-1.733-.521"></path>
              <rect width="15.469" height="2.957" x="71.852" y="210.95" fill="#FCD579" rx="1.479" transform="rotate(-4.713 71.852 210.95)"></rect>
              <rect width="15.469" height="2.957" x="42.084" y="198.722" fill="#FCD579" rx="1.479" transform="rotate(-17.174 42.084 198.722)"></rect>
              <path fill="#BBD567" d="m302.559 249.121-22.879 1.887-2.516 2.034 8.587-.023-3.905 1.463 1.674.776-3.26 2.78 22.879-1.886a3.527 3.527 0 0 0-.58-7.031"></path>
              <path fill="#1C3A29" d="M287.313 244.481c4.094-6.739 7.882-9.571 15.195-10.315 3.594-.366 6.579 2.543 6.876 6.143l.057.696c-8.493.873-12.257 3.027-17.661 9.006l-12.421 1.024-6.071-2.095 5.996-1.674-3.104-.452 2.696-1.638z"></path>
              <circle cx="13.168" cy="13.168" r="10.817" stroke="#62657A" strokeWidth="4.703" transform="scale(-1 1)rotate(4.713 -3056.479 -3726.938)"></circle>
              <path stroke="#4E4E68" strokeLinecap="round" strokeWidth="0.941" d="M307.821 241.374c1.698.568 5.528 2.376 7.337 6.002"></path>
              <circle cx="0.47" cy="0.47" r="0.47" fill="#4E4E68" transform="scale(-1 1)rotate(4.713 -3073.073 -3601.662)"></circle>
              <circle cx="5.644" cy="5.644" r="5.644" fill="#FCD579" transform="scale(-1 1)rotate(4.713 -3151.662 -3639.273)"></circle>
              <path fill="#1C3A29" d="m261.836 222.46.242-2.339-11.66 12.598-21.958.185-21.659-35.105 3.833-4.142-3.249-3.006-3.417 3.693a7.05 7.05 0 0 0-.856 8.447l33.619 55.485a3.02 3.02 0 0 0 5.167-3.13l-9.525-15.738 20.616-.465 13.883-15.347-5.732 2.385 1.999-4.237z"></path>
              <path fill="#BBD567" d="m253.296 238.265 13.736-14.842-.044 3.163 4.843-3.848-.919 2.033 2.3-.755-.204 3.336-14.534 15.705a3.528 3.528 0 0 1-5.178-4.792"></path>
              <circle cx="13.168" cy="13.168" r="10.817" stroke="#62657A" strokeWidth="4.703" transform="scale(-1 1)rotate(47.217 -393.285 -154.906)"></circle>
              <path stroke="#4E4E68" strokeLinecap="round" strokeWidth="0.941" d="M235.327 246.948c1.636-.729 5.681-1.983 9.464-.532"></path>
              <circle cx="0.47" cy="0.47" r="0.47" fill="#4E4E68" transform="scale(-1 1)rotate(47.217 -399.535 -143.539)"></circle>
              <rect width="21.634" height="5.889" fill="#BBD567" rx="2.945" transform="scale(-1 1)rotate(47.217 -312.47 -162.092)"></rect>
              <circle cx="5.644" cy="5.644" r="5.644" fill="#FCD579" transform="scale(-1 1)rotate(47.217 -405.655 -150.059)"></circle>
              <path fill="#FFB300" d="m106.257 154.819 32.756 27.926-4.401-53.381 20.189 49.511 25.196-48.511-12.487 50.032 43.332-17.799-35.902 25.485 49.417 1.063-48.528 9.731 7.489 17.561-13.915-13.08 16.439 43.695-32.13-38.647-6.542 24.448-5.957-23.417-34.79 26.776 24.78-35.238-40.49.374 37.093-7.997-25.541-7.576 27.822 1.658z"></path>
              <path fill="#FCD579" d="m122.824 173.231 18.611 14.345-.819-33.233 14.901 32.072 12.299-21.974-3.789 21.273 17.37-7.153-13.547 12.658 24.241.669-20.439 5.386 3.926 7.165-10.553-6.619 8.95 27.634-21.209-21.835-5.503 12.749-2.678-13.889-18.341 12.236 13.327-16.338-19.399-.56 15.716-3.963-14.567-4.619 17.742 2.975z"></path>
            </g>
          </g>
        </g>
        <defs>
          <linearGradient id="paint0_linear_4753_23524" x1="451.885" x2="491.5" y1="404.265" y2="394.5" gradientUnits="userSpaceOnUse">
            <stop stopColor="#FCD579"></stop>
            <stop offset="1" stopColor="#fff" stopOpacity="0"></stop>
          </linearGradient>
          <clipPath id="clip0_4753_23524">
            <rect width="924" height="490" fill="#fff" rx="8"></rect>
          </clipPath>
          <linearGradient id="paint0_linear_4325_43288" x1="198.5" y1="0" x2="199" y2="102.5" gradientUnits="userSpaceOnUse">
            <stop stopColor="#D3D3DD" />
            <stop offset="1" stopColor="#62657A" />
          </linearGradient>
          <linearGradient id="paint1_linear_4325_43288" x1="119" y1="32" x2="119" y2="299" gradientUnits="userSpaceOnUse">
            <stop stopColor="#D3D3DD" />
            <stop offset="1" stopColor="#9091A2" />
          </linearGradient>
          <linearGradient id="paint2_linear_4325_43288" x1="119" y1="48" x2="119" y2="299" gradientUnits="userSpaceOnUse">
            <stop stopColor="#62657A" />
            <stop offset="1" stopColor="#25283E" />
          </linearGradient>
          <radialGradient id="paint3_radial_4325_43288" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(118.75 161.25) rotate(89.9106) scale(160.25 123.526)">
            <stop stopColor="#D3D3DD" />
            <stop offset="1" stopColor="#9091A2" />
          </radialGradient>
          <radialGradient id="paint4_radial_4325_43288" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(118.5 174.5) rotate(89.1815) scale(35.0036 67.3146)">
            <stop stopColor="#616479" />
            <stop offset="1" stopColor="#33364C" />
          </radialGradient>
          <filter id="filter0_d_4325_43685" x="0" y="0" width="355.561" height="416.258" filterUnits="userSpaceOnUse" colorInterpolationFilters="sRGB">
            <feFlood floodOpacity="0" result="BackgroundImageFix" />
            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" />
            <feOffset dy="5" />
            <feGaussianBlur stdDeviation="5" />
            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0" />
            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_4325_43685" />
            <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_4325_43685" result="shape" />
          </filter>
          <linearGradient id="paint0_linear_4325_43685" x1="111.42" y1="232.682" x2="139.406" y2="223.286" gradientUnits="userSpaceOnUse">
            <stop stopColor="#FCD579" />
            <stop offset="1" stopColor="white" stopOpacity="0" />
          </linearGradient>
          <clipPath id="clip0_4325_43685">
            <rect width="306" height="372.375" fill="white" transform="translate(10 30.1421) rotate(-4.71294)" />
          </clipPath>
          <clipPath id="clip1_4325_43685">
            <rect width="275.625" height="255.375" fill="white" transform="translate(25.8691 44.6377) rotate(-4.71294)" />
          </clipPath>
          <linearGradient id="paint0_linear_4325_43847" x1="29.1796" y1="6.05245" x2="26" y2="15.5" gradientUnits="userSpaceOnUse">
            <stop stopColor="#D3D3DD" />
            <stop offset="1" stopColor="#8A8C9D" />
          </linearGradient>
          <linearGradient id="paint1_linear_4325_43847" x1="23.0566" y1="1.44039" x2="13.0343" y2="65.9161" gradientUnits="userSpaceOnUse">
            <stop stopColor="#D3D3DD" />
            <stop offset="1" stopColor="#8A8C9D" />
          </linearGradient>
          <linearGradient id="paint2_linear_4325_43847" x1="51.999" y1="81.0005" x2="14.499" y2="56.5005" gradientUnits="userSpaceOnUse">
            <stop stopColor="#D3D3DD" />
            <stop offset="1" stopColor="#8A8C9D" />
          </linearGradient>
          <radialGradient id="paint3_radial_4325_43847" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(20.0117 33.225) rotate(-83.2572) scale(33.9594 14.5172)">
            <stop stopColor="#D3D3DD" />
            <stop offset="1" stopColor="#8A8C9D" />
          </radialGradient>
        </defs>
      </svg>
    </section>
  );
}
